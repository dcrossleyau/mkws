# Configuration for the apache web server                 -*- apache -*-
# Running on Mike's local development box
# This file is a variant of "spdemo"

# pazpar2 / service proxy config
<VirtualHost *:80>
    ServerName x.spdemo-sp.indexdata.com
    ErrorLog /var/log/apache2/spdemo-error.log
    CustomLog /var/log/apache2/spdemo-access.log combined

    RewriteEngine on
    RewriteLogLevel 1
    RewriteLog /var/log/apache2/spdemo-rewrite.log 

    DocumentRoot /usr/local/src/git/mkws/experiments/spdemo/

    RewriteRule /service-proxy-auth  /service-proxy/?command=auth&action=login&username=guest&password=guest [P] # [NE,P]

    # For MKC Service Proxy
    ProxyPass        /service-proxy/ http://mkc.indexdata.com:9009/service-proxy/
    ProxyPassReverse /service-proxy/ http://mkc.indexdata.com:9009/service-proxy/

    # For local Service Proxy running as mvn jetty:run
    #ProxyPass        /service-proxy/ http://localhost:8585/service-proxy/
    #ProxyPassReverse /service-proxy/ http://localhost:8585/service-proxy/

</VirtualHost>
